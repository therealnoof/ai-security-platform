# Cloudflare Pages Configuration
# https://developers.cloudflare.com/pages/functions/wrangler-configuration/

name = "ai-security-platform"
compatibility_date = "2024-12-01"

# Build settings
[build]
command = "npm run build"
cwd = "/"

[build.environment]
NODE_VERSION = "20"

# Output directory for Astro static build
[site]
bucket = "./dist"

# Environment variables (non-sensitive)
[vars]
SITE_URL = "https://ai-security-intel.pages.dev"

# Development settings
[dev]
port = 4321

# Custom headers
[[headers]]
for = "/*"
[headers.values]
X-Content-Type-Options = "nosniff"
X-Frame-Options = "DENY"
Referrer-Policy = "strict-origin-when-cross-origin"
Permissions-Policy = "camera=(), microphone=(), geolocation=()"

# Cache static assets
[[headers]]
for = "/_astro/*"
[headers.values]
Cache-Control = "public, max-age=31536000, immutable"

# Cache images
[[headers]]
for = "/images/*"
[headers.values]
Cache-Control = "public, max-age=86400"
